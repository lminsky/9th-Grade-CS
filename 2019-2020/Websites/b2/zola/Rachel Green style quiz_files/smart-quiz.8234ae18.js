!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/public/build/",i(i.s=7)}({7:function(e,t,i){i("ds4U"),i("Y7Ub"),i("NmDh"),e.exports=i("bYdH")},NmDh:function(e,t){var i,n,s;window.tabNav=function(){var e,t,i=document.querySelectorAll(".page-tabs-button"),n=document.querySelectorAll(".aside-tabs-button");window.getSelector(".section-page-category"),function(){var e=function(){var e=window.getSelector(".page-tabs-button.is-selected"),t=window.getSelector(".section-page-category.is-showing"),i=this.attributes["data-content"].value,n=window.getSelector('.section-page-category[data-content="'+i+'"]');this.classList.contains("is-selected")||(removeClass(e,"is-selected"),removeClass(t,"is-showing"),addClass(this,"is-selected"),addClass(n,"is-showing"))};if(i)for(var t=0,n=i.length;t<n;t++)i[t].onclick=e}(),function(){var i=function(){if(!this.classList.contains("is-selected")){e=document.querySelector(".aside-tabs-button.is-selected"),t=document.querySelector(".section-page-category.is-showing"),e.classList.remove("is-selected"),t.classList.remove("is-showing");var i=this.attributes["data-content"].value;this.classList.add("is-selected"),document.querySelector('.section-page-category[data-content="'+i+'"]').classList.add("is-showing")}};if(n)for(var s=0,r=n.length;s<r;s++)n[s].onclick=i}()},i="is-active",n=window.getSelector(".click-toggle"),s=window.getSelector(".read-list-articles-wrap"),n&&s&&(n.onclick=function(){n.classList.toggle(i),s.classList.toggle(i)})},Y7Ub:function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.getSelector=function(e){if("object"===i(e))return e;for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)return t[n]},nojq={addClass:function(e,t){(e=document.querySelector(e)).classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){(e=document.querySelector(e)).classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},toggleClass:function(e,t){if(e.classList)e.classList.toggle(t);else{var i=e.className.split(" "),n=i.indexOf(t);0<=n?i.splice(n,1):i.push(t),e.className=i.join(" ")}},animationListener:function(e,t,i){for(var n=["webkit","moz","MS","o",""],s=0;s<n.length;s++)n[s]||(t=t.toLowerCase()),e.addEventListener(n[s]+t,i,!1)},scrollTo:function(e){function t(t,i,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,i){if(!(i<=0)){var n=(t-e.scrollTop)/i*10;setTimeout(function(){e.scrollTop=e.scrollTop+n,e.scrollTop!==t&&scrollTo(e,t,i-10)},10)}}),append:function(e,t){var i,n=document.createDocumentFragment(),s=document.createElement("body");for(s.innerHTML=t;i=s.firstChild;)n.appendChild(i);e.appendChild(n),n=s=null}}},bYdH:function(e,t){function i(e,t){var i={popUpWindow:function(){window.open(t,null,"width=650,height=350")}};return e.addEventListener("click",function(e){i.popUpWindow(),e.stopImmediatePropagation()}),i}var n={shareUrl:function(e,t,i){switch(e){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u="+t;case"twitter":return null===i?"https://twitter.com/home?status=Check this out!%0D%0A"+t:"https://twitter.com/home?status="+i+"%0D%0A"+t;default:return}},run:function(){for(var e=document.querySelectorAll(".js-share-button"),t=0;t<e.length;t++){var n=e[t].getAttribute("data-share-type"),s=e[t].getAttribute("data-share-url"),r=e[t].getAttribute("data-share-status");null!=n&&null!=s&&(s=this.shareUrl(n,s,r)),i(e[t],s)}}};document.addEventListener("DOMContentLoaded",function(){n.run()})},ds4U:function(e,t){
/**
 * Module representing functions that controls the front end smart quiz user interaction.
 *
 * @author Joe Zhou <joe.z@valnetinc.com>
 * @copyright Valnet Inc
 * @license proprietary
 * @module valnet/smart quiz
 * @version 1.0.0
 */
window.valnet_smart_quiz={QUIZ_SUPER_COOKIE_NAME:"smartQuizzes",QUIZ_SUPER_COOKIE_VALUE:{},QUIZ_COOKIE_PREFIX:"SQ_",QUIZ_COOKIE_QUESTION_PREFIX:"q",QUIZ_COOKIE_NAME:"smart_quiz_cookie_",QUIZ_OLDEST_ID:0,QUIZ_OLDEST_TIMESTAMP:0,QUIZ_LIMIT:5,QUIZ_COOKIE_VALUE:{p:1,s:{},pf:!1,qf:!1,t:0,qs:{}},DAYS_BEFORE_EXPIRATION:7,QUIZ_ANSWER_CLICKED:!1,QUIZ_MAIN_PAGE:1,COOKIE_DISABLED_MESSAGE_CONTAINER_ID:"cookie_disable_msg",COOKIE_LOST_MESSAGE_CONTAINER_ID:"cookie_lost_msg",COOKIE_WRONG_MESSAGE_SHOWING_CLASSNAME:"is-inview",COOKIE_DISABLED_MESSAGE:"Something went badly wrong!",QUIZ_PROGRESS_BAR_ID:"quiz_progress_bar",QUIZ_PROGRESS_BAR_NUM_ID:"quiz_progress_bar_num",QUIZ_WRONG_PAGE_MESSAGE_CONTAINER_ID:"js-popup-container",QUIZ_WRONG_PAGE_MESSAGE_SHOWING_CLASSNAME:"js-showing",QUIZ_BUTTON_DISABLE_CLASSNAME:"js-disabled",QUIZ_ANSWER_BTN_ID:"js-answer-btn-",QUIZ_ANSWER_BTN_CLASSNAME:"answer-btn",QUIZ_ANSWER_BTN_DISABLED_CLASSNAME:"quiz-awnser-btn-disabled",QUIZ_ANSWER_BTN_CORRECT_CLASSNAME:"js-correct",QUIZ_ANSWER_BTN_WRONG_CLASSNAME:"js-wrong",QUIZ_ANSWER_BTN_SELECTED_CLASSNAME:"js-selected",QUIZ_ANSWER_BTN_ACTIVE_CLASSNAME:"js-active",QUIZ_ANSWER_OVERLAY_ID:"quiz_answer_overlay",QUIZ_ANSWER_OVERLAY_DESC_ID:"quiz_description_text_encrypted",QUIZ_ANSWER_OVERLAY_SHOWING_CLASSNAME:"is-revealed",QUIZ_MARKER_ID:"quiz_marker",QUIZ_MARKER_CORRECT_CLASSNAME:"quiz-correct",QUIZ_MARKER_CORRECT_MESSAGE:"Correct",QUIZ_MARKER_WRONG_CLASSNAME:"quiz-wrong",QUIZ_MARKER_WRONG_MESSAGE:"Wrong",QUIZ_CORRECT_ANSWER_CONTAINER_ID:"correct_answer",QUIZ_SCORE_CONTAINER_ID:"score_text",QUIZ_NEXT_BUTTON_ID:"js-next-btn",QUIZ_REMAINING_QUESTIONS_ID:"js-remaining-question",QUIZ_CURRENT_SCORE_ID:"js-current-score",QUIZ_RESULT_OVERLAY_ID:"js-result-overlay",QUIZ_RESULT_TITLE_ID:"js-result-answer",QUIZ_RESULT_SCORE_ID:"js-result-score",QUIZ_RESULT_AVG_SCORE_ID:"js-result-avg-score",QUIZ_RESULT_EXIT_ID:"js-result-exit",QUIZ_SCORE_FINAL_GOOD_MESSAGE_ID:"score_final_message_good",QUIZ_SCORE_FINAL_BAD_MESSAGE_ID:"score_final_message_bad",QUIZ_SCORE_MESSAGE_SHOWING_CLASSNAME:"is-inview",QUIZ_MAIL_TO_CHALLENGE_FRIEND_CONTAINER_ID:"challange_friend",QUIZ_FACEBOOK_SHARE_BUTTON_ID:"quiz-face-book-share-btn",QUIZ_RETAKE_BUTTON_ID:"js-replay-quiz",QUIZ_POPUP_TITLE_ID:"js-popup-title",QUIZ_RESULT_BUTTON_ID:"result-btn",QUIZ_RESUME_LINK_ID:"js-resume-link",QUIZ_RESTART_LINK_ID:"js-restart-link",QUIZ_SKIP_OVERLAY_ID:"js-skip-popup",QUIZ_SKIP_YES_ID:"js-skip-yes",QUIZ_SKIP_NO_ID:"js-skip-no",QUIZ_COOKIE_DISABLED_OVERLAY_ID:"js-popup-cookie",QUIZ_FACEBOOK_SHARE_RESULT_BTN_ID:"js-facebook-share-result",QUIZ_TWITTER_SHARE_RESULT_BTN_ID:"js-twitter-share-result",QUIZ_CLICK_TO_START_MESSAGE:"Click here to start this quiz",QUIZ_CLICK_TO_RESTART_MESSAGE:"Restart",QUIZ_CLICK_TO_RESUME_MESSAGE:"Resume",QUIZ_CHALLENG_MAIL_TEMPLATE:"mailto:?subject=Bet you canâ€™t beat my score! {0}&body=Check out this awesome quiz!%0D%0ACan you beat my score of {1}% for {2}%0D%0ATo particpate on the quiz please follow this link:{3}",QUIZ_FACEBOOK_SHARE_BASE_URL:"https://www.facebook.com/sharer/sharer.php?u=",QUIZ_TWITTER_SHARE_BASE_URL:"https://twitter.com/home?status=",QUIZ_WINDOW_POPUP_SIZE:"width=650, height=350",run:function(e){if(void 0!==e)if(this._cookieEnabled()){var t=this.QUIZ_COOKIE_PREFIX+e.postID,i=this.QUIZ_COOKIE_PREFIX+e.previousQuizId,n=!0;if(this._hasCookie(this.QUIZ_SUPER_COOKIE_NAME))(s=JSON.parse(this._getCookie(this.QUIZ_SUPER_COOKIE_NAME)))[t]&&(n=!1,s[t].t=Date.now(),this._setupPageNavigation(s,t,e));else var s=this.QUIZ_SUPER_COOKIE_VALUE;if(n){s[t]=this.QUIZ_COOKIE_VALUE,s[t].t=Date.now();var r=this._generateResultsMap(e);s[t].s=r,this._setCookie(this.QUIZ_SUPER_COOKIE_NAME,JSON.stringify(s),this._get(e.daysBeforeExpiration,this.DAYS_BEFORE_EXPIRATION)),this._updateSuperCookieByTimestamp(s,e),e.currentPage!=this.QUIZ_MAIN_PAGE?this._displayWrongPageMessage(e.permalink,e.permalink,e):this._enableAllQuizButtons()}this._filterQuestionStatsByCookie(s,t,e),this._registerAnswerClickEvent(e),this._registerNextButtonClickEvent(e),e.currentPage==this.QUIZ_MAIN_PAGE&&0<e.previousQuizId&&s[i]&&(this._loadPreviousQuizResult(s[i],e),this._deleteQuizFromCookie(i,e)),this._displayQuizRealTimeStats(s,e)}else{var o=this._getCookieDisabledMessageContainer();if(o)return void(o.style.display="block")}},_setupPageNavigation:function(e,t,i){var n=e[t],s=!1,r=parseInt(n.p),o=parseInt(i.currentPage),_=parseInt(i.totalPages);if(_<r&&(r=_),n.pf?(r!=o-1&&(s=!0),r+=1):r!=o&&(s=!0),n.pf=!1,n.p=r,this._setCookie(this.QUIZ_SUPER_COOKIE_NAME,JSON.stringify(e),this._get(i.daysBeforeExpiration,this.DAYS_BEFORE_EXPIRATION)),s){var a=i.permalink+r;this._displayWrongPageMessage(a,i.permalink,i)}else this._enableAllQuizButtons()},_loadSummaryPage:function(e,t){var i=this._getQuizScoreContainer(),n=Math.round(e.s/t.numberOfQuestions*100);i.innerHTML=n+"%",50<n?this._addClass(this._getGoodFinalScoreMessageContainer(),this.QUIZ_SCORE_MESSAGE_SHOWING_CLASSNAME):this._addClass(this._getBadFinalScoreMessageContainer(),this.QUIZ_SCORE_MESSAGE_SHOWING_CLASSNAME)},_updateSuperCookieByTimestamp:function(e,t){var i=Object.keys(e);if(i.length>this.QUIZ_LIMIT){for(var n=0,s=0,r=0;r<i.length;r++)if(0==r)n=e[s=i[r]].t;else{var o=i[r],_=e[o].t;_<n&&(s=o,n=_)}this._deleteQuizFromCookie(s,t)}},_generateResultsMap:function(e){var t={},i=e.resultsMap;for(var n in i)i.hasOwnProperty(n)&&(t[n]=0);return t},_getRandomResultId:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i[Math.floor(Math.random()*i.length)]},_getBestResultId:function(e){var t=e.s,i=!0,n=Object.keys(t)[0],s=n,r=t[n];for(var o in t)if(t.hasOwnProperty(o)&&o!==n&&t[o]!==r){i=!1;break}if(i)s=this._getRandomResultId(t);else for(var _ in t)t.hasOwnProperty(_)&&_!==n&&t[_]>r&&(s=_);return s},_loadPreviousQuizResult:function(e,t){var i=this._getQuizResultOverlay();i.style.display="block",i.style.zIndex=10;var n=this._getBestResultId(e),s=t.prevResultsMap,r=document.querySelector("#js-result-overlay .quiz-result");this._addClass(r,"smart-quiz");var o=document.querySelector("#js-result-title"),_=t.previousQuizTitle;_=(_=_.replace(/&#8217;/g,"'")).replace(/&#039;/g,"'"),o.innerText=_;var a=this._getQuizResultTitle(),u=s[n].title;u=(u=u.replace(/&#8217;/g,"'")).replace(/&#039;/g,"'"),a.innerText=u,document.querySelector("#js-result-image").innerHTML=s[n].image;var l=document.querySelector("#js-result-desc"),c=s[n].description;c=(c=c.replace(/&#8217;/g,"'")).replace(/&#039;/g,"'"),l.innerText=c,this._getQuizResultExitBtn().addEventListener("click",function(){i.style.display="none",i.style.zIndex=0});var E=this._getQuizRetakeButton();this._registerRetakeQuizEvent(E,t.previousQuizLink,t.previousQuizId,t,!1);var I=this._getQuizFacebookShareResultBtn();this._registerFacebookShareResultEvent(I,s[n],t);var d=this._getQuizTwitterShareResultBtn();this._registerTwitterShareResultEvent(d,t)},_getCookieDisabledMessageContainer:function(){return document.getElementById(this.QUIZ_COOKIE_DISABLED_OVERLAY_ID)},_getQuizNextButton:function(){return document.getElementById(this.QUIZ_NEXT_BUTTON_ID)},_getQuizResultOverlay:function(){return document.getElementById(this.QUIZ_RESULT_OVERLAY_ID)},_getQuizResultTitle:function(){return document.getElementById(this.QUIZ_RESULT_TITLE_ID)},_getQuizResultScore:function(){return document.getElementById(this.QUIZ_RESULT_SCORE_ID)},_getQuizResultAvgScore:function(){return document.getElementById(this.QUIZ_RESULT_AVG_SCORE_ID)},_getQuizResultExitBtn:function(){return document.getElementById(this.QUIZ_RESULT_EXIT_ID)},_getQuizWrongPageMessageContainer:function(){return document.getElementById(this.QUIZ_WRONG_PAGE_MESSAGE_CONTAINER_ID)},_getQuizScoreContainer:function(){return document.getElementById(this.QUIZ_SCORE_CONTAINER_ID)},_getGoodFinalScoreMessageContainer:function(){return document.getElementById(this.QUIZ_SCORE_FINAL_GOOD_MESSAGE_ID)},_getBadFinalScoreMessageContainer:function(){return document.getElementById(this.QUIZ_SCORE_FINAL_BAD_MESSAGE_ID)},_getQuizMailToChallengeFriendContainer:function(){return document.getElementById(this.QUIZ_MAIL_TO_CHALLENGE_FRIEND_CONTAINER_ID)},_getQuizDisabledButtons:function(){return document.querySelectorAll(".js-disabled")},_getQuizAnswerBtns:function(e){return this._get(e,document).querySelectorAll(".answer-btn")},_getQuizQuestionIndex:function(e){return e.dataset.count},_getQuizAnswerResultId:function(e){return e.dataset.resultid},_getQuizAnswerBtnsWrapper:function(e){return this._get(e,document).querySelectorAll(".js-btn-wrapper")},_getQuizSelectedAnswerBtn:function(e){return this._get(e,document).querySelectorAll(".answer-btn.js-selected")},_getQuizProgressBarContainer:function(){return document.getElementById(this.QUIZ_PROGRESS_BAR_ID)},_getQuizProgressNumberContainer:function(){return document.getElementById(this.QUIZ_PROGRESS_BAR_NUM_ID)},_getQuizAnswerDescContainer:function(){return document.getElementById(this.QUIZ_ANSWER_OVERLAY_DESC_ID)},_getQuizAnswerOverlay:function(){return document.getElementById(this.QUIZ_ANSWER_OVERLAY_ID)},_getQuizMarkerContainer:function(){return document.getElementById(this.QUIZ_MARKER_ID)},_getCorrectAnswerContainer:function(){return document.getElementById(this.QUIZ_CORRECT_ANSWER_CONTAINER_ID)},_getRemainingQuestionContainer:function(){return document.getElementById(this.QUIZ_REMAINING_QUESTIONS_ID)},_getCurrentScoreContainer:function(){return document.getElementById(this.QUIZ_CURRENT_SCORE_ID)},_getFacebookShareButton:function(){return document.getElementById(this.QUIZ_FACEBOOK_SHARE_BUTTON_ID)},_getQuizRetakeButton:function(){return document.getElementById(this.QUIZ_RETAKE_BUTTON_ID)},_getQuizPopupTitleContainer:function(){return document.getElementById(this.QUIZ_POPUP_TITLE_ID)},_getQuizResultButton:function(){return document.getElementById(this.QUIZ_RESULT_BUTTON_ID)},_getQuizResumeLink:function(){return document.getElementById(this.QUIZ_RESUME_LINK_ID)},_getQuizRestartLink:function(){return document.getElementById(this.QUIZ_RESTART_LINK_ID)},_getQuizSkipOverlay:function(){return document.getElementById(this.QUIZ_SKIP_OVERLAY_ID)},_getQuizSkipYesBtn:function(){return document.getElementById(this.QUIZ_SKIP_YES_ID)},_getQuizSkipNoBtn:function(){return document.getElementById(this.QUIZ_SKIP_NO_ID)},_getQuizFacebookShareResultBtn:function(){return document.getElementById(this.QUIZ_FACEBOOK_SHARE_RESULT_BTN_ID)},_getQuizTwitterShareResultBtn:function(){return document.getElementById(this.QUIZ_TWITTER_SHARE_RESULT_BTN_ID)},_displayWrongPageMessage:function(e,t,i){var n=this._getQuizWrongPageMessageContainer();n.style.display="block",this._addClass(n,this.QUIZ_WRONG_PAGE_MESSAGE_SHOWING_CLASSNAME),this._getQuizResumeLink().setAttribute("href",e),this._getQuizPopupTitleContainer().innerHTML=i.title;var s=this._getQuizRestartLink();this._registerRetakeQuizEvent(s,i.permalink,i.postID,i,!0)},_buildMailTemplateForChallenge:function(e,t){var i=this._stringFormat(this.QUIZ_CHALLENG_MAIL_TEMPLATE,t.title,e,t.title,t.permalink);this._getQuizMailToChallengeFriendContainer().setAttribute("href",i)},_enableAllQuizButtons:function(){for(var e=this._getQuizDisabledButtons(),t=0;t<e.length;t++)this._removeClass(e[t],this.QUIZ_BUTTON_DISABLE_CLASSNAME),e[t].disabled=!1},_showQuizProgressBar:function(e){if(1<e.currentPage&&e.currentPage<e.totalPages){var t=Math.round((e.currentPage-2)/e.numberOfQuestions*100),i=this._getQuizProgressBarContainer();this._getQuizProgressNumberContainer().innerHTML=t+"%",i.style.width=t+"%"}},_displayQuizRealTimeStats:function(e,t){var i=e[this.QUIZ_COOKIE_PREFIX+t.postID],n=this._getRemainingQuestionContainer(),s=Object.keys(i.qs).length,r=parseInt(t.numberOfQuestions)-s;n.innerHTML=r},_registerAnswerClickEvent:function(e){for(var t=this._getQuizAnswerBtns(),i=this,n=0;n<t.length;n++)t[n].addEventListener("click",function(t){var n=JSON.parse(i._getCookie(i.QUIZ_SUPER_COOKIE_NAME));i._verifyClickedAnswer(t,n,e),i._displayQuizRealTimeStats(n,e)})},_registerNextButtonClickEvent:function(e){var t=this._getQuizNextButton(),i=this;t.addEventListener("click",function(t){t.preventDefault();var n=JSON.parse(i._getCookie(i.QUIZ_SUPER_COOKIE_NAME)),s=e.nextPagelink;return i._navigateToNextPage(n,e,s,t.target),!1})},_registerFacebookShareResultEvent:function(e,t,i){var n=this,s=i.previousQuizLink,r=t.title;r=(r=r.replace(/&#8217;/g,"'")).replace(/&#039;/g,"'");var o=t.description;o=(o=o.replace(/&#8217;/g,"'")).replace(/&#039;/g,"'");var _=t.imgSrc;e.addEventListener("click",function(t){t.preventDefault(),n._shareOverrideOGMeta(s,r,o,_,e.app_id)})},_shareOverrideOGMeta:function(e,t,i,n,s){if(!window.FB)return console.log("valnetSmartQuiz: FB SDK is not loaded."),!1;var r,o,_,a;window.fbAsyncInit=function(){FB.init({appId:s,autoLogAppEvents:!0,xfbml:!0,version:"v2.7"})},o="facebook-jssdk",a=(r=document).getElementsByTagName("script")[0],r.getElementById(o)||((_=r.createElement("script")).id=o,_.src="https://connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(_,a)),FB.ui({method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:{"og:url":e,"og:title":t,"og:description":i,"og:image":n}})},function(e){})},_registerTwitterShareResultEvent:function(e,t){var i=this.QUIZ_TWITTER_SHARE_BASE_URL+encodeURI(this._decodeHtml(t.previousQuizTitle)+" - TheQuiz")+"%0D%0A"+encodeURI(t.previousTwitterUrl),n=this;e.addEventListener("click",function(){window.open(i,null,n.QUIZ_WINDOW_POPUP_SIZE)})},_registerRetakeQuizEvent:function(e,t,i,n,s){var r=this;e.addEventListener("click",function(e){e.preventDefault(),s&&r._deleteQuizFromCookie(r.QUIZ_COOKIE_PREFIX+i,n),window.location.replace(t)})},_registerViewResultEvent:function(e,t){var i=this._getQuizResultButton(),n=this;i.addEventListener("click",function(i){return n._persistQuizStats(e,t),!1})},_persistQuizStats:function(e,t,i){var n=this.QUIZ_COOKIE_PREFIX+t.postID,s=e[n],r=this._getBestResultId(s);r=r.substring("r_".length);var o=new XMLHttpRequest,_=new FormData,a=this;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&(console.log("Quiz stats get persisted..."),a._setCookie(a.QUIZ_SUPER_COOKIE_NAME,JSON.stringify(e),a._get(t.daysBeforeExpiration,a.DAYS_BEFORE_EXPIRATION)),window.location.replace(i))},o.open("post",t.ajaxUrl),_.append("action","save-smart-quiz"),_.append("resultId",r),o.send(_)},_verifyClickedAnswer:function(e,t,i){var n=t[this.QUIZ_COOKIE_PREFIX+i.postID];this._disableAnswerBtns(e,n),this._updateQuizScore(n,i),this._verifyPageFinished(n),this._setCookie(this.QUIZ_SUPER_COOKIE_NAME,JSON.stringify(t),this._get(i.daysBeforeExpiration,this.DAYS_BEFORE_EXPIRATION))},_showAnswerDesc:function(){var e=this._getQuizAnswerDescContainer();e.innerHTML=window.atob(e.innerHTML),this._addClass(this._getQuizAnswerOverlay(),this.QUIZ_ANSWER_OVERLAY_SHOWING_CLASSNAME)},_showQuizMarker:function(e,t){var i=this._getQuizMarkerContainer();"1"==e.target.value?(this._addClass(i,this.QUIZ_MARKER_CORRECT_CLASSNAME),i.innerHTML=this.QUIZ_MARKER_CORRECT_MESSAGE):(this._addClass(i,this.QUIZ_MARKER_WRONG_CLASSNAME),i.innerHTML=this.QUIZ_MARKER_WRONG_MESSAGE)},_updateQuizScore:function(e,t){var i=e.qs,n=this._generateResultsMap(t);for(var s in i)if(i.hasOwnProperty(s)){var r=i[s].as,o=Object.keys(r)[0];n[o]+=r[o]}e.s=n},_verifyPageFinished:function(e){var t=this._getQuizAnswerBtnsWrapper(),i=this._getQuizSelectedAnswerBtn();return t.length==i.length&&(e.pf=!0),e.pf},_disableAnswerBtns:function(e,t){for(var i=this._getQuizAnswerBtns(e.target.parentNode),n=0,s=0;s<i.length;s++)this._removeClass(i[s],"js-smart-quiz-answer"),this._addClass(i[s],this.QUIZ_ANSWER_BTN_ACTIVE_CLASSNAME),i[s]==e.target&&(n=s);this._addClass(e.target,this.QUIZ_ANSWER_BTN_SELECTED_CLASSNAME),this._addClass(e.target,"js-smart-quiz-answer");var r=this._getQuizQuestionIndex(e.target.parentNode),o=this._getQuizAnswerResultId(e.target),_=e.target.value,a={};a["r_"+o]=parseInt(_),this._setupQuestionCookie(r,t,n,a)},_enableUnselectedAnswerBtns:function(){for(var e=this._getQuizAnswerBtnsWrapper(),t=0;t<e.length;t++)if(0==this._getQuizSelectedAnswerBtn(e[t]).length)for(var i=this._getQuizAnswerBtns(e[t]),n=0;n<i.length;n++)this._removeClass(i[n],this.QUIZ_BUTTON_DISABLE_CLASSNAME),i[n].disabled=!1},_setupQuestionCookie:function(e,t,i,n){var s="q"+e;t.qs[s]={a:i,as:n}},_filterQuestionStatsByCookie:function(e,t,i){for(var n=e[t],s=this._getQuizAnswerBtnsWrapper(),r=0;r<s.length;r++){var o=this._getQuizQuestionIndex(s[r]),_=this.QUIZ_COOKIE_QUESTION_PREFIX+o;n.qs.hasOwnProperty(_)&&this._highlightQuestionStats(_,n,s[r])}},_highlightQuestionStats:function(e,t,i){for(var n=t.qs[e],s=parseInt(n.a),r=this._getQuizAnswerBtns(i),o=0;o<r.length;o++)this._addClass(r[o],this.QUIZ_ANSWER_BTN_ACTIVE_CLASSNAME),s==o&&(this._addClass(r[o],this.QUIZ_ANSWER_BTN_SELECTED_CLASSNAME),this._addClass(r[o],"js-smart-quiz-answer"))},_navigateToNextPage:function(e,t,i,n){var s=e[this.QUIZ_COOKIE_PREFIX+t.postID];if(this._verifyPageFinished(s))t.currentPage==t.totalPages?(s.qf=!0,this._persistQuizStats(e,t,i)):window.location.replace(i);else{for(var r=this._getQuizAnswerBtns(),o=0;o<r.length;o++)this._addClass(r[o],this.QUIZ_BUTTON_DISABLE_CLASSNAME),r[o].disabled=!0;var _=this._getQuizSkipYesBtn(),a=this;_.addEventListener("click",function(e){var n=JSON.parse(a._getCookie(a.QUIZ_SUPER_COOKIE_NAME));a._kickOffNextPage(e,n,t,i)}),_.click()}},_kickOffNextPage:function(e,t,i,n){for(var s=t[this.QUIZ_COOKIE_PREFIX+i.postID],r=this._getQuizAnswerBtnsWrapper(),o=0;o<r.length;o++)if(0==this._getQuizSelectedAnswerBtn(r[o]).length){var _=this._getQuizQuestionIndex(r[o]);console.log(i);var a={};a[Object.keys(i.resultsMap)[0]]=0,this._setupQuestionCookie(_,s,9,a)}s.pf=!0,this._setCookie(this.QUIZ_SUPER_COOKIE_NAME,JSON.stringify(t),this._get(i.daysBeforeExpiration,this.DAYS_BEFORE_EXPIRATION)),i.currentPage==i.totalPages?(s.qf=!0,this._persistQuizStats(t,i,n)):window.location.replace(n)},_addClass:function(e,t){e.classList.add(t)},_hasClass:function(e,t){return e.classList.contains(t)},_removeClass:function(e,t){e.classList.remove(t)},_get:function(e,t){return void 0===e?t:e},_stringFormat:function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,i){return void 0!==t[i]?t[i]:e})},_decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},_setCookie:function(e,t,i){var n;if(0<i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3),n="; expires="+s.toGMTString()}else n="";document.cookie=e+"="+t+n+"; path=/"},_deleteQuizFromCookie:function(e,t){var i=JSON.parse(this._getCookie(this.QUIZ_SUPER_COOKIE_NAME));i[e]&&(delete i[e],this._setCookie(this.QUIZ_SUPER_COOKIE_NAME,JSON.stringify(i),this._get(t.daysBeforeExpiration,this.DAYS_BEFORE_EXPIRATION)))},_getCookie:function(e){e+="=";for(var t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return null},_hasCookie:function(e){return null!==this._getCookie(e)},_cookieEnabled:function(){if(navigator.cookieEnabled)return!0;this._setCookie("cookie_test","1",0);var e=this._hasCookie("cookie_test");return e&&this._deleteCookie("cookie_test"),e},_deleteCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;"}}}});